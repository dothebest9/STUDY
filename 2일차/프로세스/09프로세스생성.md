프로세스 생성

프로그램을 실행하면 프로세스가 되고 이것을 프로세스 생성이라 한다. 

운영체제는 프로세스를 관리하기 위해 프로세스 컨트롤 블록을 생성하여 

프로세스 상태, 프로세스 ID, 레지스터 정보 등을 초기화 한다.

프로그램 실행 시 운영체제는 코드 영역과 데이터 영역을 메인 메모리에 올리고 

빈 스택과 빈 힙을 만들어 공간을 확보한다. 

이는 시스템에게 상당한 부담을 주는 일이다.

새로운 프로세스를 생성하는 것보다 기존의 프로세스를 복사하는 것이 더 빠르다. 

따라서 모든 프로세스는 최초의 프로세스로부터 복사된다.

<img width="686" height="253" alt="image" src="https://github.com/user-attachments/assets/589acc17-7ebf-4be7-871b-5e1b9dbe980b" />

첫 번째 실행 된 최초의 프로세스를 부모 프로세스라고 하고, 이를 복사해서 만들어진 새로운 프로세스는 

자식 프로세스라고 표현한다.

이 때 부모 프로세스를 복사하는 시스템 함수를 fork()라고 한다. 

응용 프로그램을 만들 때, 응용 프로그램이 운영체제가 제공하는 핵심 기능을 사용하고자 할 때 

시스템 호출(System call)이라는 인터페이스를 사용한다. 

fork()가 이러한 시스템 함수이다.

자식 프로세스는 부모 프로세스의 모든 내용을 복사하기 때문에 

코드 영역, 데이터 영역, 프로세스 컨트롤 블록의 모든 내용을 우선 그대로 복사한다. 

프로세스 ID나 메모리 주소 등은 다르게 할당된다.

exec()이라는 함수를 통해 자식 프로세스는 코드 영역과 데이터 영역을 원하는 

내용으로 덮어쓰는 작업을 해준다. 이렇게 되면 부모 프로세스와 같았던 내용이 달라지면서 

독립적인 영역을 가지게 된다.

따라서 이러한 프로세스 계층 구조를 갖추게 되는 것은 fork()함수와 exec()함수의 반복이다.
